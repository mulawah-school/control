<!DOCTYPE html>
<html dir="rtl" lang="ar">
<head>
<meta charset="UTF-8">
<title>برنامج المراقبة</title>
<style>
body {
  font-family: "Tahoma";
  background:#f5f5f5;
}
.day-card {
  background:white;
  padding:15px;
  border-radius:10px;
  margin:10px;
  width:150px;
  box-shadow:0 0 8px #ccc;
  cursor:pointer;
  display:inline-block;
  text-align:center;
}
</style>
</head>

<body>

<h2>الأيام (اضغط يوم لإضافة الاستثناءات)</h2>

<div id="days"></div>

<script>
google.script.run.withSuccessHandler(renderDays).getExamDays();

function renderDays(days) {

  const container = document.getElementById("days");
  container.innerHTML = "";

  days.forEach(day => {
    let d = document.createElement("div");
    d.className = "day-card";
    d.innerHTML = `
      <b>${day}</b><br>
      <span>اضغط للإدارة</span>
    `;

    d.onclick = () => openDay(day);

    container.appendChild(d);
  });
}

function openDay(day){
  google.script.run.withSuccessHandler(html => {
    document.body.innerHTML = html;
  }).getDayEditor(day);
}
</script>

</body>
</html>
